Notes for merging individual executables' functionality into shapeworks classes.
-------------------------------------------------------------------------------
Notes below identify command name changes and any parameter name changes, which
have been intentionally minimized in order to facilite upgrading existing
scripts and python apps that simply call the external executables.

Note that duplicate functionality has been discovered and is noted with the commands below.

HOWTO start a new command:
 0) decide which command to do next, then create a branch from executable for that command:
  $ git checkout executable
  $ git pull
  $ git checkout -b executable_<command>
 1) copy and modify boilerplate for the new command in Commands.h and Commands.cpp and append it to the end of these files
 2) add the command in shapeworks.cpp's main(): shapeworks.addCommand(Example::getCommand());
 3) add the new function to its associated class (probably Image or Mesh for now)
 4) find all uses of the command (in .sh and .py files) and change them to use the new shapeworks subcommand:
  $ find Examples -name "*" -type f -exec grep -i "OldCommandName" {} \; -print
 5) test command as needed to ensure it works the same as before (unless there was already a bug :)
  5a) add unit tests for new classes (follow Alan's example for a function in Image)
 6) remove the old command from its directory's CMakeLists.txt and `git rm OldCommandName.cxx`
 7) commit the results and make a pull request *to executable* (not to master)
 
General tasks:
-----------------------------
[x] implement postfix commands so that results of previous command are used by successive commands
[-] detect and report to the user when no output file is specified for the last command (decided against this)
[] remove camelcase from all shapeworks subcommand arguments (note: we are deliberately still using CamelCase for the command classes themselves)
[] create example C++ app(s) that show using these classes directly
[] add unit tests for new classes (follow Alan's example for a function in Image)
[] as we go, add/update documentation to Documentation/ShapeWorksCommands/ShapeworksCmdTools.md, which is a consolidation of all the individual readmes from when I moved the commands into a set of common directories rather than one directory per command
[-] test write issue I noticed (once outfile is set, does it just write every time) (n/a with following change)
  [x] change --infilename/--outfilename to be full commands (read/writeimage, read/writemesh)
[] In the Image class itself, create a wrapper for all these filter functions that itself just accepts a function to create a filter to be executed (Updated)

Commands:   (* means OptionParser already used, otherwise just argv)
-----------------------------
ShapeWorksToolsConsolidation -> https://docs.google.com/spreadsheets/d/17gevfSR-bY3cSr0C-rAmOe6kE8OtrFv06iWt_W10T1M/

Image commands:

[x] readimage
 - shapeworks readimage --name ./test.nrrd

[x] writeimage
 - shapeworks writeimage --name ./foobar.nrrd

[x] binarize (created new command by breaking down ResampleVolumesToBeIsotropic)
 - shapeworks readimage --name ./test.nrrd binarize writeimage --name ./foobar.nrrd

[x] recenter (created new command by breaking down ResampleVolumesToBeIsotropic)
 - shapeworks readimage --name ./test.nrrd recenter writeimage --name ./foobar.nrrd

[x] *AntiAliasing -> antialias
 - shapeworks readimage --name ./test.nrrd antialias --numiterations 75 --maxrmserror 0.03 --numlayers 0 writeimage --name ./foobar.nrrd

[x] ClipVolume -> clip
 - shapeworks readimage --name ./test.nrrd clip-volume --x1 --x2 --x3 --y1 --y2 --y3 --z1 --z2 --z3 writeimage --name ./foobar.nrrd

[x] *CloseHoles -> closeholes
 - shapeworks readimage --name ./test.nrrd closeholes writeimage --name ./foobar.nrrd 

[x] *CropImages -> crop
 - shapeworks readimage --name ./test.nrrd crop writeimage --name ./foobar.nrrd 

[x] *ExtractGivenLabelImage -> extractlabel 
 - shapeworks readimage --name ./test.nrrd extractlabel --label 1.0 writeimage --name ./foobar.nrrd

[x] *FastMarching -> computedt
 - shapeworks readimage --name ./test.nrrd fastmarch --isovalue 0.0 writeimage --name ./foobar.nrrd

[x] *FindLargestBoundingBox -> binaryboundingbox 
 - shapeworks boundingbox --names ./images/*.nrrd -- --padding 0

[x] *PadVolumeWithConstant -> pad
 - shapeworks readimage --name ./test.nrrd pad --padding 0 --value 0.0 writeimage --name ./foobar.nrrd

[x] *ReflectVolumes -> reflectvolume
 - shapeworks readimage --name ./test.nrrd reflectvolume --axis 1 writeimage --name ./foobar.nrrd

[x] ResampleVolumesToBeIsotropic -> isoresample
 - shapeworks readimage --name ./test.nrrd antialias isoresample --isospacing 1.0 recenter binarize writeimage --name ./foobar.nrrd

[x] *ThresholdImages -> threshold 
 - shapeworks readimage --name ./test.nrrd threshold writeimage --name ./foobar.nrrd

[x] TopologyPreservingSmoothing
 - shapeworks readimage --name ./images/test.nrrd curvature --iterations 1 writeimage --name ./images/test.tpSmoothDT.nrrd topo-preserving-smooth --alpha 10.5 --beta 10.0 --scaling 0.0 --applycurvature 0 writeimage --name ./images/test.ISO.nrrd 

[x] curvature (created new command by breaking down TopologyPreservingSmoothing)
 - shapeworks readimage --name ./images/test.nrrd curvature --iterations 1 writeimage --name ./images/test.tpSmoothDT.nrrd

[x] gradient (created new command by breaking down TopologyPreservingSmoothing)
 - shapeworks readimage --name ./images/test.nrrd gradient writeimage --name ./images/foobar.nrrd

[x] sigmoid (created new command by breaking down TopologyPreservingSmoothing)
 - shapeworks readimage --name ./images/test.nrrd sigmoid --alpha 10.5 --beta 10.0 writeimage --name ./images/foobar.nrrd

[x] tplevelset (created new command by breaking down TopologyPreservingSmoothing)
 - shapeworks readimage --name ./images/test.nrrd setlevel --other ./images/test.tpSmoothDT.nrrd --scaling 0.0 writeimage --name ./images/test.ISO.nrrd

[x] blur

[x] *WriteImageInfoToText -> deprecated

[x] itkTBGACLevelSetImageFilter (also has .txx file) -> not a tool

Mesh commands:

[] readmesh

[] writemesh

ClipClosedSurface
ComputeCurvatureAndCoordFiles
ComputeGeodesicDistanceFromVerticesToPoints
ComputeGeodesicDistanceToCurve
ComputeGeodesicDistanceToLandmark
ComputeMeanNormals
ComputeMeshGeodesics
ComputeRasterizationVolumeOriginAndSize
ExtractVertexFeatureFromMesh
FillMeshHoles
FixCuttingPlanes
GenerateBinaryAndDTImagesFromMeshes
GenerateFeatureGradientFiles
GenerateFidsFiles
GenerateFidsFilesFromMeshes
GenerateNormalFeaFiles
GetFeatureVolume
GradientTesting
PreviewCmd
[] PreviewMeshQC/
 - a finite element mesh class
 - doesn't appear to be our creation
 - probably update it and move it to ExternalLibs
ProbeFeatureVolumesAtMeshVertices
ProbeNormals
ProjectPointsOntoMesh
ReconstructMeanSurface
ReconstructSamplesAlongPCAModes
ReconstructSurface
ReflectMesh
RemoveFidsDTLeakage

[] SmoothMesh -> smoothmesh

WriteFeatureGradientAsText

[x] deprecated/  (git rm -r deprecated)

fea2vtk
itkMultiplyByConstantImageFilter.h
meshFIM.cpp
meshFIM.h

Optimize commands:

ShapeWorksRunApp.h (save this one till last or not at all)
 - It might constitute a class by itself.
 - It seems to only use vtk and ITK, not any of the rest of the ShapeWorks framework.
 - ah! except ParticleSystem's files (in the Optimize/ParticleSystem) are misnamed as itkParticle*
 - but ParticleSystem is already a class. It should probably be moved, but it already stands alone

Alignment commands:

[] ApplyRigid3DTransformationToImage

[x] ICPRigid3DImageRegistration -> icp 

[] ICPRigid3DMeshRegistration

Procrustes3D.cpp
Procrustes3D.h

[] ReflectMeshes
[] ResampleVolumeToIsotropic
[] ResizeOriginResampleVolumes

[x] TranslateImages -> translate
 - shapeworks readimage --name ./images/test.nrrd translate --tx 10 --ty 10 --tz 10 writeimage --name ./images/foobar.nrrd

[x] TranslateShapeToImageOrigin -> translate 
 - shapeworks readimage --name ./images/test.nrrd translate --centerofmass 1 writeimage --name ./images/foobar.nrrd

[x] TranslationTransform -> deprecated

Alignment/Transform Commands:

itkAdvancedTransform
itkCompactlySupportedRBFSparseKernelTransform
itkKernelTransform2
itkSparseKernelTransform
itkThinPlateSplineKernelTransform2

Analyze commands:

MeshFromDT.cpp
MeshFromDT_InputParams.h
Reconstruction.cpp
Reconstruction.h
Vis.cpp
Vis.h

Utils commands:

FeaFromVTK
GenericMeshConversion
MeshFromDistanceTransforms
VTKUnstructuredGridToPolyData
itkImageToVTKImageFilter.h
itkImageToVTKImageFilter.txx
ply2vtk
stl2ply
stl2vtk
vtk2ply
