<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <meta name="author" content="Shireen Elhabian et al.">
  <link rel="canonical" href="http://www.sci.utah.edu/software/shapeworks.html/workflow/groom.html">
  <link rel="shortcut icon" href="../img/favicon.ico">
  <title>How to Groom Your Dataset? - ShapeWorks</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700" />

  <link rel="stylesheet" href="../css/theme.css" />
  <link rel="stylesheet" href="../css/theme_extra.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css" />
  <link href="../css/custom.css" rel="stylesheet" />
  
  <script>
    // Current page data
    var mkdocs_page_name = "How to Groom Your Dataset?";
    var mkdocs_page_input_path = "workflow/groom.md";
    var mkdocs_page_url = "/software/shapeworks.html/workflow/groom.html";
  </script>
  
  <script src="../js/jquery-2.1.1.min.js" defer></script>
  <script src="../js/modernizr-2.8.3.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/yaml.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/python.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
  <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-36723568-3', 'mkdocs.org');
      ga('send', 'pageview');
  </script>
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> ShapeWorks</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../index.html">Home</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Getting Started</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../getting-started/shapes.html">Shapes, What & From Where?</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../getting-started/workflow.html">Shape Modeling Workflow</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../getting-started/sw-stories.html">ShapeWorks Success Stories</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../getting-started/interfaces.html">ShapeWorks Interfaces</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../getting-started/examples.html">Examples</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../getting-started/how-tos.html">How-Tos</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">For Users</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../users/install.html">How to Install ShapeWorks?</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../users/citation.html">How to Cite ShapeWorks?</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../users/papers.html">Revelant Papers</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Workflow</span></p>
                <ul class="current">
                    <li class="toctree-l1 current"><a class="reference internal current" href="groom.html">How to Groom Your Dataset?</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#image-pre-processing">Image Pre-Processing</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#antialias">Antialias</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#resample">Resample</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#recenter">Recenter</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#pad">Pad</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#translate">Translate</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#scale">Scale</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#rotate">Rotate</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#extract-label">Extract Label</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#close-holes">Close Holes</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#binarize">Binarize</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#compute-dt">Compute DT</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#curvature">Curvature</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#gradient">Gradient</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#sigmoid">Sigmoid</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#tplevelsetfilter">TPLevelSetFilter</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#topologypreservingfilter">TopologyPreservingFilter</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#blur">Blur</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#icprigid">ICPRigid</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#bounding-box">Bounding Box</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#crop">Crop</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#clip-volume">Clip Volume</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#reflect-images">Reflect Images</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#set-origin">Set Origin</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#warp">Warp</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#compare">Compare</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#negate">Negate</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#add">Add</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#subtract">Subtract</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#multiply">Multiply</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#divide">Divide</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#imagetomesh">ImageToMesh</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#mesh-pre-processing">Mesh Pre-Processing</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#reflect-mesh">Reflect Mesh</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#mesh-to-volume">Mesh to volume</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#alignment">Alignment</a>
    </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="optimize.html">How to Optimize Your Shape Model?</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="analyze.html">How to Analyze Your Shape Model?</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">What is New?</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../new/new-studio.html">New in ShapeWorksStudio</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../new/openvdb.html">ShapeWorks Takes ~85% Less Memory</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../new/sw-meshes.html">ShapeWorks Directly on Meshes</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../new/shapeworks-command.html">ShapeWorks Command</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../new/ssm-eval.html">Shape Model Evaluation</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../new/shapeworks-python.html">ShapeWorks in Python</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">ShapeWorks in Python</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../notebooks/getting-started-with-jupyter-notebooks.html">Getting Started with Juypter Notebooks</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../notebooks/setting-up-shapeworks-environment.html">Setting up ShapeWorks Environment</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../notebooks/getting-started-with-segmentations.html">Getting Started with Segmentations</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../notebooks/getting-started-with-meshes.html">Getting Started with Meshes</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../notebooks/getting-started-with-exploring-segmentations.html">Getting Started with Exploring Segmentations</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../notebooks/getting-started-with-grooming-segmentations.html">Getting Started with Grooming Segmentations</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../notebooks/getting-started-with-shape-cohort-generation.html">Getting Started with Shape Cohort Generation</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Deep Learning & SSMs</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../deep-learning/data-augmentation.html">Data Augmentation for Deep Learning</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../deep-learning/deep-ssm.html">SSMs Directly from Images</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Use Cases</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../use-cases/use-cases.html">Getting Started with Use Cases</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../use-cases/ellipsoid.html">Ellipsoid: Basic Example</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../use-cases/ellipsoid-cutting-planes.html">Ellipsoid: Cutting Planes</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../use-cases/fixed-domain-ellipsoid.html">Fixed Domains: SSM on New Shapes</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../use-cases/left-atrium.html">Left Atrium: SSM from Segmentations</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../use-cases/femur.html">Femur: SSM from Meshes</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../use-cases/femur-cutting-planes.html">Femur with Cutting Planes</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../use-cases/femur-mesh.html">Femur Mesh: SSM directly from meshes</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../use-cases/lumps.html">Lumps: SSM directly from meshes</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../use-cases/right-ventricle.html">Right Ventricle: Highly Variable Shapes</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../use-cases/deep-ssm-femur.html">Femur SSM Directly from Images</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">For Developers</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../dev/build.html">How to Build ShapeWorks from Source?</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../dev/contribute.html">How to Contribute to ShapeWorks?</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../dev/commands.html">How to Add ShapeWorks Commands?</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../dev/python-apis.html">How to Add Python APIs?</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../dev/tests.html">How to Add and Run Unit Tests?</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../dev/new-use-case.html">How to Add New Use Cases?</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../dev/datasets.html">How to Add New Datasets?</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../dev/modify-datasets.html">When Modifying Existing Datasets</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../dev/docs.html">Getting Started with Documentation</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../dev/gh-actions.html">Getting Started with GitHub Actions</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../dev/markdown.html">Getting Started with Markdown</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../dev/paths.html">Adding to PATH Environment Variable</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">ShapeWorks Tools</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../tools/ShapeWorksCommands.html">ShapeWorks Commands</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">About</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../about/team.html">Meet ShapeWorkers!</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../about/release-notes.html">Release Notes</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../about/license.html">License</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../about/contact.html">Contact Us</a>
                    </li>
                </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">ShapeWorks</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
        
          <li>Workflow &raquo;</li>
        
      
    
    <li>How to Groom Your Dataset?</li>
    <li class="wy-breadcrumbs-aside">
      
        <a href="https://github.com/SCIInstitute/ShapeWorks/edit/master/docs/workflow/groom.md"
          class="icon icon-github"> Edit on GitHub</a>
      
    </li>
  </ul>
  
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="how-to-groom-your-dataset">How to Groom Your Dataset?</h1>
<p>ShapeWorks needs suitable distance transforms for establishing shape correspondence. The groom stage has the pipeline to generate the distance transforms from input images (binary segmentation or mesh).  It consists of image/mesh pre-processing and alignment tools.</p>
<h2 id="image-pre-processing">Image Pre-Processing</h2>
<h3 id="antialias">Antialias</h3>
<p>This tool antialiases binary volumes.</p>
<p><code>shapeworks readimage --name $1 antialias maxrmserror $2 iterations $3 layers $4 writeimage --name $5</code></p>
<p>Here is the list of arguments.</p>
<ul>
<li>maxrmserror: Maximum RMS error determines how fast the solver converges. Range [0.0, 1.0], larger is faster [default: 0.01].</li>
<li>iterations: Maximum number of iterations [default: 50].</li>
<li>layers: Number of layers around a 3d pixel to use for this computation [default: 3].</li>
</ul>
<h3 id="resample">Resample</h3>
<p>This tool uses an interpolation process to resample anisotropic voxels into isotropic-sized voxels.</p>
<p><code>shapeworks readimage --name $1 resample --isospacing $2 --spacex $3 --spacey $4 --spacez $5 --sizex $6 --sizey $7 --sizez $8 writeimage --name $9</code></p>
<p>Here is the list of arguments.</p>
<ul>
<li>isospacing: The isotropic spacing in all dimensions.</li>
<li>spacex: Pixel spacing in x-direction [default: 1.0].</li>
<li>spacey: Pixel spacing in y-direction [default: 1.0].</li>
<li>spacez: Pixel spacing in z-direction [default: 1.0].</li>
<li>sizex: Output size in x-direction [default: calculated using current size and desired spacing].</li>
<li>sizey: Output size in y-direction [default: calculated using current size and desired spacing].</li>
<li>sizez: Output size in z-direction [default: calculated using current size and desired spacing].</li>
</ul>
<h3 id="recenter">Recenter</h3>
<p>This tool recenters an image by changing its origin in the image header to the physical coordinates of the center of the image.</p>
<p><code>shapeworks readimage --name $1 recenter writeimage --name $2</code></p>
<h3 id="pad">Pad</h3>
<p>This tool pads pads an image with specified value by specified number of voxels in the x-, y-, and/or z- directions; origin remains at the same location (note: negative padding to shrink an image is permitted).</p>
<p><code>shapeworks readimage --name $1 pad --padding $2 --value $3 writeimage --name $4</code></p>
<p><code>shapeworks readimage --name $1 pad --padx $2 --pady $3 --padz $4 writeimage --name $5</code></p>
<p>Here is the list of arguments.</p>
<ul>
<li>padding: Pad this many voxels in ALL directions (used if set) [default: 0].</li>
<li>padx: Pad this many voxels in the x-direction [default: 0].</li>
<li>pady: Pad this many voxels in the y-direction [default: 0].</li>
<li>padz: Pad this many voxels in the z-direction [default: 0].</li>
<li>value: Value used to fill padded voxels [default: 0.0].</li>
</ul>
<h3 id="translate">Translate</h3>
<p>This tool translates image by specified physical (image space) distance.</p>
<p><code>shapeworks readimage --name $1 translate --centerofmass writeimage --name $2</code></p>
<p><code>shapeworks readimage --name $1 translate --tx $2 --ty $3 --tz $4 writeimage --name $5</code></p>
<p>Here is the list of arguments.</p>
<ul>
<li>centerofmass: Use center of mass [default: false].</li>
<li>tx: X distance</li>
<li>ty: Y distance</li>
<li>tz: Z distance</li>
</ul>
<h3 id="scale">Scale</h3>
<p>This tool scales image by specified value.</p>
<p><code>shapeworks readimage --name $1 scale --sx $2 --sy $3 --sz $4 writeimage --name $5</code></p>
<p>Here is the list of arguments.</p>
<ul>
<li>tx: X scale</li>
<li>ty: Y scale</li>
<li>tz: Z scale</li>
</ul>
<h3 id="rotate">Rotate</h3>
<p>This tool rotates image by specified value.</p>
<p><code>shapeworks readimage --name $1 rotate --rx $2 --radians $3 writeimage --name $4</code></p>
<p><code>shapeworks readimage --name $1 rotate --degrees $2 writeimage --name $3</code></p>
<p>Here is the list of arguments.</p>
<ul>
<li>rx: Physical axis around which to rotate [default: z-axis]</li>
<li>ry: Physical axis around which to rotate [default: z-axis]</li>
<li>rz: Physical axis around which to rotate [default: z-axis]</li>
<li>radians: Angle in radians</li>
<li>degrees: Angle in degrees</li>
</ul>
<h3 id="extract-label">Extract Label</h3>
<p>This tool extracts/isolates the specific voxel label from a given multi-label volume and outputs the corresponding binary image.</p>
<p><code>shapeworks readimage --name $1 extractlabel label $2 writeimage --name $3</code></p>
<p>Here is the list of arguments.</p>
<ul>
<li>label: Label value to be extracted [default: 1.0].</li>
</ul>
<h3 id="close-holes">Close Holes</h3>
<p>This tool closes holes in a volume defined by values larger than specified value.</p>
<p><code>shapeworks readimage --name $1 closeholes writeimage --name $2</code></p>
<h3 id="binarize">Binarize</h3>
<p>This tool sets portion of image greater than min and less than or equal to max to the specified value. </p>
<p><code>shapeworks readimage --name $1 binarize --min $2 --max $3 --value $4 writeimage --name $5</code></p>
<p>Here is the list of arguments.</p>
<ul>
<li>min: Lower threshold level [default: 0.0].</li>
<li>max: Upper threshold level [default: inf ]. </li>
<li>value: Value to set region [default: 1.0].</li>
</ul>
<h3 id="compute-dt">Compute DT</h3>
<p>This tool computes signed distance transform volume from an image at the specified isovalue.</p>
<p><code>shapeworks readimage --name $1 computedt --isovalue $2 writeimage --name $3</code> </p>
<p>Here is the list of arguments.</p>
<ul>
<li>isovalue: Level set value that defines the interface between foreground and background [default: 0.0].</li>
</ul>
<h3 id="curvature">Curvature</h3>
<p>This tool denoises an image using curvature driven flow using curvature flow image filter.</p>
<p><code>shapeworks readimage --name $1 curvature --iterations $2 writeimage --name $3</code> </p>
<p>Here is the list of arguments.</p>
<ul>
<li>iterations: Number of iterations [default: 10].</li>
</ul>
<h3 id="gradient">Gradient</h3>
<p>This tool computes gradient magnitude of an image region at each pixel using gradient magnitude filter.</p>
<p><code>shapeworks readimage --name $1 curvature --iterations $2 writeimage --name $3</code> </p>
<p>Here is the list of arguments.</p>
<ul>
<li>iterations: Number of iterations [default: 10].</li>
</ul>
<h3 id="sigmoid">Sigmoid</h3>
<p>This tool computes sigmoid function pixel-wise using sigmoid image filter.</p>
<p><code>shapeworks readimage --name $1 sigmoid --alpha $2 --beta $3 writeimage --name $4</code> </p>
<p>Here is the list of arguments.</p>
<ul>
<li>alpha: Value of alpha [default: 10.0].</li>
<li>beta: Value of beta [default: 10.0].</li>
</ul>
<h3 id="tplevelsetfilter">TPLevelSetFilter</h3>
<p>This tool segments structures in image using topology preserving geodesic active contour level set filter.</p>
<p><code>shapeworks readimage --name $1 tplevelset --featureimage $2 --scaling $3 writeimage --name $4</code> </p>
<p>Here is the list of arguments.</p>
<ul>
<li>featureimage: Path of feature image for filter</li>
<li>scaling: Value of scale [default: 20.0].</li>
</ul>
<h3 id="topologypreservingfilter">TopologyPreservingFilter</h3>
<p>This tool is a helper command that applies gradient and sigmoid filters to create a feature image for the TPLevelSet filter; note that the curvature flow filter is sometimes applied to the image before this.</p>
<p><code>shapeworks readimage --name $1 topopreservingsmooth --scaling $2 --alpha $3 --beta $4 writeimage --name $5</code> </p>
<p>Here is the list of arguments.</p>
<ul>
<li>scaling: Scale for TPLevelSet level set filter [default: 20.0].</li>
<li>alpha: Value of alpha for sigmoid fitler [default: 10.0].</li>
<li>beta: Value of beta for sigmoid fitler [default: 10.0.0].</li>
</ul>
<h3 id="blur">Blur</h3>
<p>This tool applies gaussian blur.</p>
<p><code>shapeworks readimage --name $1 blur --sigma $2 writeimage --name $3</code> </p>
<p>Here is the list of arguments.</p>
<ul>
<li>sigma: Value of sigma [default: 0.0].</li>
</ul>
<h3 id="icprigid">ICPRigid</h3>
<p>This tool transform current image using iterative closest point (ICP) 3D rigid registration computed from source to target distance maps.</p>
<p><code>shapeworks readimage --name $1 icp --source $2 --target $3 --isovalue $4 --iterations $5 writeimage --name $6</code> </p>
<p>Here is the list of arguments.</p>
<ul>
<li>source: Distance map of source image.</li>
<li>target: Distance map of target image.</li>
<li>isovalue: Isovalue of distance maps used to create ICPtransform [default: 0.0].</li>
<li>iterations: Number of iterations run ICP registration [default: 20].</li>
</ul>
<h3 id="bounding-box">Bounding Box</h3>
<p>This tool computes the largest bounding box for the shape population needed for cropping all the images.</p>
<p><code>shapeworks readimage --name $1 boundingbox --names $2 -- --padding $3 --isovalue $4 writeimage --name $5</code></p>
<p>Here is the list of arguments.</p>
<ul>
<li>names: Paths to images (must be followed by <code>--</code>), ex: \"bounding-box --names *.nrrd -- --isovalue 1.5\").</li>
<li>padding: Number of extra voxels in each direction to pad the largest bounding box [default: 0].</li>
<li>isovalue: Threshold value [default: 1.0].</li>
</ul>
<h3 id="crop">Crop</h3>
<p>This tool crops image down to the current region (e.g., from bounding-box command), or the specified min/max in each direction [default: image dimensions].</p>
<p><code>shapeworks readimage --name $1 crop --xmin $2 --xmax $3 --ymin $4 --ymax $5 --zmin $6 --zmax $7 writeimage --name $8</code></p>
<p>Here is the list of arguments.</p>
<ul>
<li>xmin: Minimum X.</li>
<li>xmax: Maximum X.</li>
<li>ymin: Minimum Y.</li>
<li>ymax: Maximum Y.</li>
<li>zmin: Minimum Z.</li>
<li>zmax: Maximum Z.</li>
</ul>
<h3 id="clip-volume">Clip Volume</h3>
<p>This tool clips volume with the specified cutting planes defined by three 3D points</p>
<p><code>shapeworks readimage --name $1 clip --x1 $2 --y1 $3 --z1 $4 --x2 $5 --y2 $6 --z2 $7 --x3 $8 --y3 $9 --z3 $10 writeimage --name $11</code></p>
<p>Here is the list of arguments.</p>
<ul>
<li>x1: Value of x1 for cutting plane [default: 0.0].</li>
<li>y1: Value of y1 for cutting plane [default: 0.0].</li>
<li>z1: Value of z1 for cutting plane [default: 0.0].</li>
<li>x2: Value of x2 for cutting plane [default: 0.0].</li>
<li>y2: Value of y2 for cutting plane [default: 0.0].</li>
<li>z2: Value of z2 for cutting plane [default: 0.0].</li>
<li>x3: Value of x3 for cutting plane [default: 0.0].</li>
<li>y3: Value of y3 for cutting plane [default: 0.0].</li>
<li>z3: Value of z3 for cutting plane [default: 0.0].</li>
</ul>
<h3 id="reflect-images">Reflect Images</h3>
<p>This tool reflects image with respect to logical image center and the specified axis.</p>
<p><code>shapeworks readimage --name $1 reflect --axis $2 writeimage --name $3</code></p>
<p>Here is the list of arguments.</p>
<ul>
<li>axis: Axis along which to reflect (X, Y, or Z).</li>
</ul>
<h3 id="set-origin">Set Origin</h3>
<p>This tool sets origin.</p>
<p><code>shapeworks readimage --name $1 setorigin --x $2 --y $3 --z $4 writeimage --name $5</code></p>
<p>Here is the list of arguments.</p>
<ul>
<li>x: x value of origin [default: 0.0].</li>
<li>y: y value of origin [default: 0.0].</li>
<li>z: z value of origin [default: 0.0].</li>
</ul>
<h3 id="warp">Warp</h3>
<p>This tool finds the warp between the source and target landmarks and transforms image by this warp.</p>
<p><code>shapeworks readimage --name $1 warpimage --source $2 --target $3 --landmarks $4 writeimage --name $5</code></p>
<p>Here is the list of arguments.</p>
<ul>
<li>source: Path to source landmarks.</li>
<li>target: Path to target landmarks.</li>
<li>landmarks: Every <em>stride</em> points will be used for warping [default: 1].</li>
</ul>
<h3 id="compare">Compare</h3>
<p>This tool compares two images.</p>
<p><code>shapeworks readimage --name $1 compare --name $2 --verifyall $4 --tolerance $4 --precision $5 writeimage --name $6</code></p>
<p>Here is the list of arguments.</p>
<ul>
<li>name: Compare this image with another</li>
<li>verifyall: Also verify origin, spacing, and direction matches [default: true].</li>
<li>tolerance: Allowed percentage of pixel differences [default: 0.0].</li>
<li>precision: Allowed difference between two pixels for them to still be considered equal [default: 0.0].</li>
</ul>
<h3 id="negate">Negate</h3>
<p>This tool negates the values in the given image.</p>
<p><code>shapeworks readimage --name $1 negate writeimage --name $2</code></p>
<h3 id="add">Add</h3>
<p>This tool adds a value to each pixel in the given image and/or add another image in a pixelwise manner.</p>
<p><code>shapeworks readimage --name $1 add --value $2 --name $3 writeimage --name $4</code></p>
<p>Here is the list of arguments.</p>
<ul>
<li>value: Value to add to each pixel.</li>
<li>name: Name of image to add pixelwise.</li>
</ul>
<h3 id="subtract">Subtract</h3>
<p>This tool subtracts a value from each pixel in the given image and/or subtract another image in a pixelwise manner.</p>
<p><code>shapeworks readimage --name $1 subtract --value $2 --name $3 writeimage --name $4</code></p>
<p>Here is the list of arguments.</p>
<ul>
<li>value: Value to add to each pixel.</li>
<li>name: Name of image to subtract pixelwise.</li>
</ul>
<h3 id="multiply">Multiply</h3>
<p>This tool multiplies an image by a constant.</p>
<p><code>shapeworks readimage --name $1 multiply --value $2 writeimage --name $3</code></p>
<p>Here is the list of arguments.</p>
<ul>
<li>value: Value with which to multiply.</li>
</ul>
<h3 id="divide">Divide</h3>
<p>This tool divides an image by a constant.</p>
<p><code>shapeworks readimage --name $1 divide --value $2 writeimage --name $3</code></p>
<p>Here is the list of arguments.</p>
<ul>
<li>value: Value with which to divide.</li>
</ul>
<h3 id="imagetomesh">ImageToMesh</h3>
<p>This tool converts the current image to a mesh.</p>
<p>Here is the list of arguments.</p>
<ul>
<li>isovalue: Isovalue to determine mesh boundary [default: 1.0].</li>
</ul>
<h2 id="mesh-pre-processing">Mesh Pre-Processing</h2>
<h4 id="reflect-mesh">Reflect Mesh</h4>
<p>This tool reflects a mesh segmentation. It can be used when you want to align all pairs of anatomies together. For example, if you have left and right femurs and want to align them all, you would first reflect one side or the other so they are all either left or right femurs.</p>
<p><code>ReflectMesh --inFilename $1 --outFilename $2 --reflectCenterFilename $3 --inputDirection $4 --meshFormat $5</code></p>
<ul>
<li>inFilename: The filename of the input mesh to be reflected.</li>
<li>outFilename: The filename of the output reflected mesh.</li>
<li>reflectCenterFilename: The filename where the image center about which reflection occured will be stored.</li>
<li>inputDirection: Direction along which to reflect.</li>
<li>meshFormat: Mesh file format such as "vtk" or "ply"</li>
</ul>
<h3 id="mesh-to-volume">Mesh to volume</h3>
<p>This tool generates a binary volume and distance transform from a ".ply" mesh. If an image corresponding to the mesh exists, the origin, spacing, and size settings should be the same as this image. This information can be acquired using the WriteImageInfoToText tool.</p>
<p><code>TopologyPreservingSmoothing parameterFile.xml</code> </p>
<p>Here is the list of all parameters in the parameter file.
* mesh: The file name of the input mesh.
* origin_x: The x origin of the output ".nrrd" files.
* origin_y: The y origin of the output ".nrrd" files.
* origin_z: The z origin of the output ".nrrd" files.
* size_x: The x size of the output ".nrrd" files.
* size_y: The y size of the output ".nrrd" files.
* size_z: The z size of the output ".nrrd" files.
* spacing_x: The x spacing of the output ".nrrd" files.
* spacing_y: The y spacing of the output ".nrrd" files.
* spacing_z: The z spacing of the output ".nrrd" files.</p>
<h2 id="alignment">Alignment</h2>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="optimize.html" class="btn btn-neutral float-right" title="How to Optimize Your Shape Model?">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../users/papers.html" class="btn btn-neutral" title="Revelant Papers"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
      <p>Copyright © 1998 - 2020 Scientific Computing and Imaging Institute. All rights reserved. This project is supported by the National Institutes of Health under grant numbers NIBIB-U24EB029011, NIAMS-R01AR076120, NHLBI-R01HL135568, NIBIB-R01EB016701, and NIGMS-P41GM103545. Software maintenance and support are provided within the funding period.</p>
    
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/SCIInstitute/ShapeWorks/" class="fa fa-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href="../users/papers.html" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="optimize.html" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme.js" defer></script>
      <script src="../assets/mathjaxhelper.js" defer></script>
      <script src="https://polyfill.io/v3/polyfill.min.js?features=es6" defer></script>
      <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js" defer></script>
      <script src="../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
